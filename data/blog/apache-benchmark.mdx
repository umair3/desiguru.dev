---
title: 'A Comprehensive Guide to Apache Benchmark (ab) for Performance Testing'
date: '2014-04-08'
tags: ['linux']
draft: false
summary: By mastering these ab commands and options, you can conduct comprehensive and effective performance testing on your web servers, ensuring they can handle the demands of your users and applications.....
---

# Apache Benchmark (ab)

_Title_: Guide to Apache Benchmark (ab) for Performance Testing

_Author_: Umair Anwar

_Subject_: Linux

_Language_: English

_Source_: [PHP I Did, Blogspot](https://phpidid.blogspot.com/2014/04/ab-staging.html)


Apache Benchmark, commonly known as ab, is a powerful and versatile tool that allows you to test the performance of web servers by generating various types of requests. Whether you are a web developer, a system administrator, or anyone responsible for managing web applications, ab is a valuable asset in your toolkit. In this comprehensive guide, we will explore the various commands and options available with ab along with practical examples to help you perform performance testing effectively.

## Basic Usage of ab
The simplest way to use ab is to run a basic test with the following command:
```
ab -n 100 -c 10 http://example.com/
```
1. -n 100: This flag specifies the total number of requests to perform. In this example, we're making 100 requests.
2. -c 10: This flag represents the concurrency level, which is the number of multiple requests to perform at once. Here, we're sending 10 concurrent requests to the server.

## Measuring Requests per Second (RPS)
You can measure the requests per second (RPS) using ab by adding the -q (quiet) and -g (generate) flags as follows:
```
ab -n 100 -c 10 -q -g results.tsv http://example.com/
```
1. -q: This flag suppresses output to the console.
2. -g results.tsv: This flag generates a CSV file named results.tsv containing detailed statistics.

## Testing Specific HTTP Methods
ab supports various HTTP methods like GET, POST, PUT, DELETE, etc. You can specify the HTTP method using the -m flag. For instance, to perform a POST request:
```
ab -n 100 -c 10 -m POST -p data.txt http://example.com/
```
1. -m POST: This flag specifies the HTTP method (POST in this case).
2. -p data.txt: It allows you to send data in the request from a file (e.g., data.txt).

## 4. Customizing Headers
You can add custom HTTP headers to your requests using the -H flag. For example, to include an "Authorization" header:
```
ab -n 100 -c 10 -H "Authorization: Bearer <your_token>" http://example.com/
```

## Setting a Timeout
To set a timeout for requests, use the -s flag. For example, to set a timeout of 5 seconds:
```
ab -n 100 -c 10 -s 5 http://example.com/
```
* -s 5: This flag sets a timeout of 5 seconds for each request.

## Generating HTML Reports
ab can generate HTML reports for you with the -e flag. Here's an example:
```
ab -n 100 -c 10 -e report.html http://example.com/
```
* -e report.html: This flag generates an HTML report in report.html.

## Benchmarking SSL/TLS-Enabled Sites
When testing an SSL/TLS-enabled site, you can use the -S flag. For instance:
```
ab -n 100 -c 10 -S https://example.com/
```
* -S: This flag instructs ab to use SSL/TLS for the requests.

## Authentication with Username and Password
To perform benchmarking with HTTP authentication, you can include your credentials using the -A flag:
```
ab -n 100 -c 10 -A username:password http://example.com/
```
* -A username:password: This flag specifies the username and password for basic HTTP authentication.

## Follow Redirects
To follow redirects in your benchmark, you can use the -f flag:
```
ab -n 100 -c 10 -f http://example.com/
```
* -f: This flag tells ab to follow redirects.

## Specify a Custom Port
If your web server is running on a custom port, you can specify it with the -p flag:
```
ab -n 100 -c 10 -p 8080 http://example.com/
```
* -p 8080: This flag sets the port to 8080.

## Testing Specific URLs
You can specify a list of URLs to test using a text file with the -i flag:
```
ab -n 100 -c 10 -i urls.txt
```
* -i urls.txt: This flag reads a list of URLs from urls.txt and tests each one.

Remember that thorough benchmarking should be conducted responsibly, taking into account the impact of your tests on the target server. Regularly monitor server logs, analyze the results, and use the insights gained to optimize your web applications for improved performance and scalability.

